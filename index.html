<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <script>
        if (theme === "dark") {
            document.documentElement.setAttribute('data-theme', 'dark');
            sessionStorage.setItem('theme', 'dark');
            document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
        } else if (theme === "light") {
            document.documentElement.setAttribute('data-theme', 'light');
            sessionStorage.setItem('theme', 'light');
            document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
        }
    </script>
    <title>Hu Yihui</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <style>
        * {
            box-sizing: border-box;
        }

        /* Create two equal columns that floats next to each other */
        .column {
            float: left;
            width: 33%;
        }

        /* Clear floats after the columns */
        .row:after {
            content: "";
            display: table;
            clear: both;
        }

        /* Responsive layout */
        @media screen and (max-width: 1024px) {
            .column {
                width: 100%;
            }
        }
    </style>
</head>

<body>
    <div class="indexbg"></div>
    <div class="content">
        <div class="container" style="margin-bottom: 5vh">
            <a class="main" style="font-size:2.1vh; margin-right: 2em;" href="./pages/about.html">☀&#xFE0E; about</a>
            <a class="main" style="font-size:2.1vh; margin-right: 2em;" href="./pages/projects.html">✦&#xFE0E; works</a>
            <a class="main" style="font-size:2.1vh;" href="./pages/notes.html">⚛&#xFE0E; notes</a>
            <button class="theme" id="theme-toggle" onclick="modeSwitcher()"></a>
        </div>

        <div class="row">
            <div class="column">
                <p class="index">who</p>
                <p class="indexcopy">yihui</p>

                <p class="index">what</p>
                <p class="indexcopy">design & cs</p>

                <p class="index">where</p>
                <p class="indexcopy">singapore / usa</p>

                <p class="index">how</p>
                <p class="indexcopy">huh</p>

                <p class="index">currently</p>
                <p class="indexcopy" style="margin-bottom:1em">coding this website</p>
            </div>

            <!-- spacer-->
            <div class="column">
                <p></p>
            </div>

            <div class="column">
                <p class="index" style="margin-bottom: 1.7vh">selected works</p>
                <p class="indexcopy" style="margin-bottom: 2em; line-height: 140%;">
                    <a class="index" href="./pages/projects/zinedef.html">(1) ZINEDEF</a>
                    <br>
                    <a class="index" href="./pages/projects/20xx.html">(2) 20XX catalogue of flora & fauna</a>
                    <br>
                    <a class="index" href="./pages/projects/graphite.html">(3) Graphite Reproductions</a>
                    <br>
                    <a class="index" href="./pages/projects/everyday.html">(4) Everyday____</a>
                </p>

                <p class="index" style="margin-bottom: 1.7vh">selected notes</p>
                <p class="indexcopy" style="margin-bottom: 41vh; line-height: 140%;">
                    <a class="index" href="./pages/notes/290422_telescopingtext.html">(1) Telescoping notes</a>
                    <br>
                    <a class="index" href="./pages/notes/280422_famicase.html">(2) Famicase 2022</a>
                    <br>
                    <a class="index" href="./pages/notes/280422_texttohtml.html">(3) Text to HTML</a>
                    <br>
                </p>
            </div>
        </div>
    </div>
    <script>
        // this checks whether system dark mode is set 
        let systemInitiatedDark = window.matchMedia("(prefers-color-scheme: dark)");
        // this checks for session storage telling to override
        // the system preferences 
        let theme = sessionStorage.getItem('theme');

        if (systemInitiatedDark.matches) {
            document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
        } else {
            document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
        }

        function prefersColorTest(systemInitiatedDark) {
            if (systemInitiatedDark.matches) {
                document.documentElement.setAttribute('data-theme', 'dark');
                document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
                // this clears the session storage 
                sessionStorage.setItem('theme', '');
            } else {
                document.documentElement.setAttribute('data-theme', 'light');
                document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
                sessionStorage.setItem('theme', '');
            }
        }
        systemInitiatedDark.addListener(prefersColorTest);

        function modeSwitcher() {
            // it’s important to check for overrides again 
            let theme = sessionStorage.getItem('theme');
            // checks if reader selected dark mode 
            if (theme === "dark") {
                document.documentElement.setAttribute('data-theme', 'light');
                sessionStorage.setItem('theme', 'light');
                document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
                // checks if reader selected light mode 
            } else if (theme === "light") {
                document.documentElement.setAttribute('data-theme', 'dark');
                sessionStorage.setItem('theme', 'dark');
                document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
                // checks if system set dark mode 
            } else if (systemInitiatedDark.matches) {
                document.documentElement.setAttribute('data-theme', 'light');
                sessionStorage.setItem('theme', 'light');
                document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
                // the only option left is system set light mode
            } else {
                document.documentElement.setAttribute('data-theme', 'dark');
                sessionStorage.setItem('theme', 'dark');
                document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
            }
        }

        if (theme === "dark") {
            document.documentElement.setAttribute('data-theme', 'dark');
            sessionStorage.setItem('theme', 'dark');
            document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
        } else if (theme === "light") {
            document.documentElement.setAttribute('data-theme', 'light');
            sessionStorage.setItem('theme', 'light');
            document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
        }
    </script>
</body>

</html>