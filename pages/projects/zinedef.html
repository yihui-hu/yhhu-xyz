<!DOCTYPE html>
<html class="centered" style="max-width: 75ch;" lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <title>ZINEDEF</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" href="../../styles.css">
    <script>
        if (theme === "dark") {
            document.documentElement.setAttribute('data-theme', 'dark');
            sessionStorage.setItem('theme', 'dark');
            document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
        } else if (theme === "light") {
            document.documentElement.setAttribute('data-theme', 'light');
            sessionStorage.setItem('theme', 'light');
            document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
        }
    </script>
</head>

<body class="copy" id="article">
    <div class="container">
        <div class="header">
            ZINEDEF
            <button class="theme" style="float: right" id="theme-toggle" onclick="modeSwitcher()"></a>
        </div>
        <p class="readtime"><span id="time"></span></p>

        <p>
            ZINEDEF<sup id="footnote1"><a class="footnote" href="#footnote-1">1</a></sup>
            is the product of my time in the Singapore Armed Forces.
            <br>
            60 pages, saddle-stitched with military provisions, print on standard copier paper.
        </p>

        <img class="normal" src="../../images/zinedef/zinedef1.png" alt="zinedef1">
        <p style="margin-top: 2vh"></p>

        <img class="normal" src="../../images/zinedef/zinedef2.png" alt="zinedef2">
        <p style="margin-top: 2vh"></p>

        <img class="normal" src="../../images/zinedef/zinedef3.png" alt="zinedef3">
        <p style="margin-top: 2vh"></p>

        <img class="normal" src="../../images/zinedef/zinedef4.png" alt="zinedef4">
        <p style="margin-top: 2vh"></p>

        <img class="normal" src="../../images/zinedef/zinedef5.png" alt="zinedef5">
        <p style="margin-top: 2vh"></p>

        <img class="normal" src="../../images/zinedef/zinedef6.png" alt="zinedef6">
        <p style="margin-top: 2vh"></p>

        <img class="normal" src="../../images/zinedef/zinedef7.png" alt="zinedef7">
        <p style="margin-top: 2vh"></p>

        <img class="normal" src="../../images/zinedef/zinedef8.png" alt="zinedef8">
        <p style="margin-top: 2vh"></p>

        <img class="normal" src="../../images/zinedef/zinedef9.png" alt="zinedef9">
        <p style="margin-top: 2vh"></p>

        <img class="normal" src="../../images/zinedef/zinedef10.png" alt="zinedef10">
        <p style="margin-top: 2vh"></p>

        <img class="normal" src="../../images/zinedef/zinedef11.png" alt="zinedef11">
        <p style="margin-top: 2vh"></p>

        <img class="normal" src="../../images/zinedef/zinedef12.png" alt="zinedef12">
        <p style="margin-top: 2vh"></p>

        <img class="normal" src="../../images/zinedef/zinedef13.png" alt="zinedef13">
        <p style="margin-top: 2vh"></p>

        <hr style="margin-top: 2em;margin-bottom: 1em;">

        <p id="footnote-1">
            1. Portmanteau of zine and MINDEF (Ministry of Defence Singapore).<a class="inline" href="#footnote1">
                ↩&#xFE0E;</a>
        </p>

        <p></p>
        <a class="main" href="../projects.html">✦&#xFE0E; return to works</a>
        <a class="main" href="../../index.html">⁖ return to main</a>
    </div>
    <script src="../../js/readTimeEstimate.js"></script>
    <script>
        // this checks whether system dark mode is set 
        let systemInitiatedDark = window.matchMedia("(prefers-color-scheme: dark)");
        // this checks for session storage telling to override
        // the system preferences 
        let theme = sessionStorage.getItem('theme');

        if (systemInitiatedDark.matches) {
            document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
        } else {
            document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
        }

        function prefersColorTest(systemInitiatedDark) {
            if (systemInitiatedDark.matches) {
                document.documentElement.setAttribute('data-theme', 'dark');
                document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
                // this clears the session storage 
                sessionStorage.setItem('theme', '');
            } else {
                document.documentElement.setAttribute('data-theme', 'light');
                document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
                sessionStorage.setItem('theme', '');
            }
        }
        systemInitiatedDark.addListener(prefersColorTest);

        function modeSwitcher() {
            // it’s important to check for overrides again 
            let theme = sessionStorage.getItem('theme');
            // checks if reader selected dark mode 
            if (theme === "dark") {
                document.documentElement.setAttribute('data-theme', 'light');
                sessionStorage.setItem('theme', 'light');
                document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
                // checks if reader selected light mode 
            } else if (theme === "light") {
                document.documentElement.setAttribute('data-theme', 'dark');
                sessionStorage.setItem('theme', 'dark');
                document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
                // checks if system set dark mode 
            } else if (systemInitiatedDark.matches) {
                document.documentElement.setAttribute('data-theme', 'light');
                sessionStorage.setItem('theme', 'light');
                document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
                // the only option left is system set light mode
            } else {
                document.documentElement.setAttribute('data-theme', 'dark');
                sessionStorage.setItem('theme', 'dark');
                document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
            }
        }

        if (theme === "dark") {
            document.documentElement.setAttribute('data-theme', 'dark');
            sessionStorage.setItem('theme', 'dark');
            document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
        } else if (theme === "light") {
            document.documentElement.setAttribute('data-theme', 'light');
            sessionStorage.setItem('theme', 'light');
            document.getElementById("theme-toggle").innerHTML = "✶&#xFE0E;";
        }
    </script>
</body>

</html>